<!doctype html>
<html lang="hu">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MIRE VAN MA SZÜKSÉGEM?</title>
<style>
body{font-family:system-ui,Arial;margin:0;display:flex;min-height:100vh;align-items:center;justify-content:center;background:#0b2a20;color:#fff;}
.card-wrap{background:#0f382f;padding:20px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,0.4);text-align:center;max-width:420px;}
img{max-width:100%;height:auto;border-radius:8px;display:block;margin:12px auto;}
button{background:#093f30;border:0;padding:12px 18px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;}
button:active{transform:translateY(1px)}
.hint{font-size:14px;color:#cfe6d9;margin-top:8px}
</style>
</head>
<body>
<div class="card-wrap">
<h1>MIRE VAN MA SZÜKSÉGEM?</h1>
<img id="cardImg" src="" alt="kártya" />
<div>
<button id="rndBtn">Megmutat!</button>
</div>
<div class="hint">Kattints a gombra — minden alkalommal véletlen kártya jelenik meg.</div>
</div>

<script>
let cards = [];
const img = document.getElementById('cardImg');
const btn = document.getElementById('rndBtn');

async function loadCards(){
try{
const res = await fetch('./cards.json', {cache: "no-cache"});
if(!res.ok) throw new Error('cards.json nem elérhető');
cards = await res.json();
if(cards.length) {
img.src = cards[0];
} else {
img.alt = "Nincsenek kártyák feltöltve.";
}
}catch(e){
console.error(e);
img.alt = "Hiba a kártyák betöltésekor.";
}
}

function showRandom(){
if(cards.length === 0){ img.alt = "Nincsenek kártyák."; return; }
const i = Math.floor(Math.random() * cards.length);
img.src = cards[i] + "?v=" + Date.now(); // cache-bust
}

btn.addEventListener('click', showRandom);

loadCards();
</script>
</body>
</html>
